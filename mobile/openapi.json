{"openapi":"3.0.0","paths":{"/api/v1/auth/login":{"post":{"operationId":"auth_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"Login successful","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/LoginResponseDto"},"code":{"example":"OK"},"message":{"example":"Login successful"}}}]}}}},"400":{"description":"Invalid payload or validation error","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"VALIDATION_ERROR"},"message":{"example":"Validation failed"},"error":{"example":{"details":{"email":["Email format is invalid"]}}}}}]}}}},"401":{"description":"Bad credentials or inactive account","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"INVALID_CREDENTIALS"},"message":{"example":"Invalid email or password"}}}]}}}},"429":{"description":"Too many login attempts. Try again later.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"RATE_LIMIT_EXCEEDED"},"message":{"example":"Too many requests. Please wait before retrying."}}}]}}}}},"summary":"Login and issue access + refresh tokens","tags":["Auth"]}},"/api/v1/auth/refresh":{"post":{"operationId":"auth_refresh","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenDto"}}}},"responses":{"200":{"description":"Tokens refreshed","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/RefreshResponseDto"},"code":{"example":"OK"},"message":{"example":"Tokens refreshed"}}}]}}}},"400":{"description":"Missing or invalid refresh token format","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"VALIDATION_ERROR"},"message":{"example":"Validation failed"}}}]}}}},"401":{"description":"Refresh token expired or revoked","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"INVALID_TOKEN"},"message":{"example":"Invalid or expired token"}}}]}}}}},"summary":"Rotate refresh token → new access + refresh pair","tags":["Auth"]}},"/api/v1/auth/logout":{"post":{"description":"Invalidates the current session and refresh token. User must log in again.","operationId":"auth_logout","parameters":[],"responses":{"200":{"description":"Logged out successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"example":null},"code":{"example":"OK"},"message":{"example":"Logged out successfully"}}}]}}}}},"security":[{"bearer":[]}],"summary":"Revoke the current session","tags":["Auth"]}},"/api/v1/auth/me":{"get":{"operationId":"auth_me","parameters":[],"responses":{"200":{"description":"Profile retrieved","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/MeResponseDto"},"code":{"example":"OK"},"message":{"example":"Profile retrieved"}}}]}}}},"401":{"description":"No valid session / token missing","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"INVALID_CREDENTIALS"},"message":{"example":"Unauthorized"}}}]}}}}},"security":[{"bearer":[]}],"summary":"Get current authenticated user profile","tags":["Auth"]}},"/api/v1/auth/password/forgot":{"post":{"operationId":"auth_forgotPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordDto"}}}},"responses":{"202":{"description":"If this email exists, a reset link was sent.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/ForgotPasswordResponseDto"},"code":{"example":"ACCEPTED"},"message":{"example":"Password reset initiated"}}}]}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"VALIDATION_ERROR"},"message":{"example":"Validation failed"}}}]}}}},"429":{"description":"Too many password reset requests. Please wait before retrying.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"RATE_LIMIT_EXCEEDED"},"message":{"example":"Too many requests. Please wait before retrying."}}}]}}}}},"summary":"Start password reset flow (always returns 202)","tags":["Auth"]}},"/api/v1/auth/password/reset":{"post":{"operationId":"auth_resetPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordDto"}}}},"responses":{"200":{"description":"Password reset successful","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/ResetPasswordResponseDto"},"code":{"example":"OK"},"message":{"example":"Password reset successful"}}}]}}}},"400":{"description":"Invalid token or weak password","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"VALIDATION_ERROR"},"message":{"example":"Validation failed"}}}]}}}},"401":{"description":"Reset token expired / already used","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"INVALID_TOKEN"},"message":{"example":"Invalid or expired token"}}}]}}}},"429":{"description":"Too many password reset attempts. Try again later.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"RATE_LIMIT_EXCEEDED"},"message":{"example":"Too many requests. Please wait before retrying."}}}]}}}}},"summary":"Complete password reset and revoke all sessions","tags":["Auth"]}},"/api/v1/auth/password/change":{"patch":{"description":"Requires the current password. On success, all sessions are revoked and a re-login is required.","operationId":"auth_changePassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordDto"}}}},"responses":{"200":{"description":"Password updated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/ChangePasswordResponseDto"},"code":{"example":"OK"},"message":{"example":"Password updated successfully"}}}]}}}},"400":{"description":"Validation or wrong password","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"VALIDATION_ERROR"},"message":{"example":"Incorrect current password"}}}]}}}},"401":{"description":"Invalid/expired session","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"INVALID_CREDENTIALS"},"message":{"example":"Unauthorized"}}}]}}}},"403":{"description":"Account not allowed","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"FORBIDDEN"},"message":{"example":"Forbidden"}}}]}}}}},"security":[{"bearer":[]}],"summary":"Change password (authenticated user)","tags":["Auth"]}},"/api/v1/auth/invites/preview":{"post":{"operationId":"auth_invitesPreview","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"accountType":{"type":"string","enum":["Student","Club"]},"mode":{"type":"string","enum":["add","replace"]},"file":{"type":"string","format":"binary"}},"required":["accountType","mode","file"]}}}},"responses":{"200":{"description":"Preview summary produced successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/InvitesPreviewResponseDto"},"code":{"example":"OK"},"message":{"example":"Preview generated"}}}]}}}},"400":{"description":"Invalid CSV, malformed rows, or missing file","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"VALIDATION_ERROR"},"message":{"example":"No CSV content detected. Please upload a valid CSV file."}}}]}}}},"401":{"description":"Unauthenticated","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"INVALID_CREDENTIALS"},"message":{"example":"Unauthorized"}}}]}}}},"403":{"description":"Caller is not an Admin","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"FORBIDDEN"},"message":{"example":"Forbidden"}}}]}}}}},"security":[{"bearer":[]}],"summary":"Dry-run CSV import (no DB changes)","tags":["Auth"]}},"/api/v1/auth/invites/bulk":{"post":{"operationId":"auth_invitesBulk","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"accountType":{"type":"string","enum":["Student","Club"]},"mode":{"type":"string","enum":["add","replace"]},"confirm":{"type":"string","example":"CONFIRM"},"file":{"type":"string","format":"binary"}},"required":["accountType","mode","file"]}}}},"responses":{"200":{"description":"Bulk import applied","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/InvitesBulkResponseDto"},"code":{"example":"OK"},"message":{"example":"Bulk import applied"}}}]}}}},"400":{"description":"Validation error, CSV missing, confirm string mismatch, etc.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"VALIDATION_ERROR"},"message":{"example":"No CSV content detected. Please upload a valid CSV file."}}}]}}}},"401":{"description":"Unauthenticated","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"INVALID_CREDENTIALS"},"message":{"example":"Unauthorized"}}}]}}}},"403":{"description":"Caller is not an Admin","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"FORBIDDEN"},"message":{"example":"Forbidden"}}}]}}}}},"security":[{"bearer":[]}],"summary":"Apply CSV import","tags":["Auth"]}},"/api/v1/auth/invites/resend":{"post":{"operationId":"auth_invitesResend","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvitesResendDto"}}}},"responses":{"202":{"description":"Resend operation processed","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/InvitesResendResponseDto"},"code":{"example":"ACCEPTED"},"message":{"example":"Resend processed"}}}]}}}},"400":{"description":"Invalid emails array","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"VALIDATION_ERROR"},"message":{"example":"Validation failed"}}}]}}}},"401":{"description":"Unauthenticated","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"INVALID_CREDENTIALS"},"message":{"example":"Unauthorized"}}}]}}}},"403":{"description":"Caller is not an Admin","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"FORBIDDEN"},"message":{"example":"Forbidden"}}}]}}}}},"security":[{"bearer":[]}],"summary":"Resend invite emails to pending users","tags":["Auth"]}},"/api/v1/auth/invites/accept/student":{"post":{"operationId":"auth_acceptStudentInvite","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AcceptStudentInviteDto"}}}},"responses":{"200":{"description":"Student account created and session issued","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/AcceptStudentResponseDto"},"code":{"example":"OK"},"message":{"example":"Invite accepted. Session issued."}}}]}}}},"400":{"description":"Invalid invite token or invalid body","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"VALIDATION_ERROR"},"message":{"example":"Validation failed"}}}]}}}},"401":{"description":"Invite already used / token expired","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"INVALID_TOKEN"},"message":{"example":"Invalid or expired invite token"}}}]}}}},"403":{"description":"Invite not allowed","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"FORBIDDEN"},"message":{"example":"Forbidden"}}}]}}}}},"summary":"Accept Student invite","tags":["Auth"]}},"/api/v1/auth/invites/accept/club":{"post":{"operationId":"auth_acceptClubInvite","parameters":[],"responses":{"200":{"description":"Club account created, leaders seeded, and session issued","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/AcceptClubResponseDto"},"code":{"example":"OK"},"message":{"example":"Invite accepted. Club created & session issued."}}}]}}}},"400":{"description":"Invalid invite token, missing required leaders, or no logo uploaded","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"VALIDATION_ERROR"},"message":{"example":"Validation failed"}}}]}}}},"401":{"description":"Invite already used / token expired","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"INVALID_TOKEN"},"message":{"example":"Invalid or expired invite token"}}}]}}}},"403":{"description":"Invite not allowed / club cannot be created","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"code":{"example":"FORBIDDEN"},"message":{"example":"Forbidden"}}}]}}}}},"summary":"Accept Club invite (creates club + 2 leaders)","tags":["Auth"]}},"/api/v1/clubs":{"get":{"description":"Returns minimal public cards for all active clubs.","operationId":"clubs_list","parameters":[],"responses":{"200":{"description":"List of clubs returned successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/ClubsListResponseDto"}}}]}}}}},"summary":"List all active clubs","tags":["Clubs"]}},"/api/v1/clubs/{id}":{"get":{"description":"Anonymous users see public info. Students also get isFollowed. Admins may view inactive clubs and get isActive.","operationId":"clubs_getHeader","parameters":[{"name":"id","required":true,"in":"path","description":"Club UUID","schema":{"type":"string"}}],"responses":{"200":{"description":"Club header loaded","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/ClubPublicHeaderResponseDto"}}}]}}}},"400":{"description":"Invalid club ID or club not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"summary":"Get club public header / stats","tags":["Clubs"]}},"/api/v1/clubs/me":{"get":{"description":"Returns editable profile data (description, logo, leaders) for the authenticated club account.","operationId":"clubs_getOwnProfile","parameters":[],"responses":{"200":{"description":"Club profile fetched","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/ClubSelfProfileResponseDto"}}}]}}}},"401":{"description":"Invalid/expired session","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get current club profile (self view)","tags":["Clubs"]},"patch":{"operationId":"clubs_updateProfile","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"description":{"type":"string","example":"We build robots, run competitions, and mentor juniors.","description":"Short public description of the club for the directory page."},"logo":{"type":"string","format":"binary","description":"New logo file to upload (image). Optional."}}}}}},"responses":{"200":{"description":"Club profile updated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/UpdateClubProfileResponseDto"}}}]}}}},"400":{"description":"Validation failed or invalid image upload","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"401":{"description":"Invalid/expired session","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update current club profile","tags":["Clubs"]}},"/api/v1/clubs/me/leaders":{"put":{"description":"Exactly two leaders must be provided: President and VicePresident. Fully replaces previous leaders.","operationId":"clubs_replaceLeaders","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateClubLeadersDto"}}}},"responses":{"200":{"description":"Leaders replaced","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/UpdateClubLeadersResponseDto"}}}]}}}},"400":{"description":"Validation failed (must send exactly 2 leaders)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"401":{"description":"Invalid/expired session","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Replace club leadership (President & VicePresident)","tags":["Clubs"]}},"/api/v1/clubs/{id}/leaders":{"get":{"description":"Admin-only. Returns contact info of the club leadership.","operationId":"clubs_getLeaders","parameters":[{"name":"id","required":true,"in":"path","description":"Club UUID","schema":{"type":"string"}}],"responses":{"200":{"description":"Club leaders returned","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/ClubLeadersResponseDto"}}}]}}}},"401":{"description":"Invalid/expired session","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"403":{"description":"Only admins can access leaders for arbitrary clubs","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get leaders for a club (Admin)","tags":["Clubs"]}},"/api/v1/clubs/{id}/subscribe":{"post":{"description":"Idempotent. If already following, still returns isFollowed=true.","operationId":"clubs_follow","parameters":[{"name":"id","required":true,"in":"path","description":"Club UUID to follow","schema":{"type":"string"}}],"responses":{"200":{"description":"Club followed / already followed","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/SubscribeClubResponseDto"}}}]}}}},"400":{"description":"Invalid club ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"401":{"description":"Invalid/expired session","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"403":{"description":"Only students can follow clubs","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Follow a club","tags":["Clubs"]},"delete":{"description":"Idempotent. If you were not following, returns isFollowed=false anyway.","operationId":"clubs_unfollow","parameters":[{"name":"id","required":true,"in":"path","description":"Club UUID to unfollow","schema":{"type":"string"}}],"responses":{"200":{"description":"Club unfollowed / already not followed","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/SubscribeClubResponseDto"}}}]}}}},"401":{"description":"Invalid/expired session","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"403":{"description":"Only students can unfollow clubs","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Unfollow a club","tags":["Clubs"]}},"/api/v1/clubs/{id}/name":{"patch":{"description":"Updates the club display name. This will be visible everywhere.","operationId":"clubs_rename","parameters":[{"name":"id","required":true,"in":"path","description":"Club UUID to rename","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminRenameClubDto"}}}},"responses":{"200":{"description":"Club renamed successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/AdminRenameClubResponseDto"}}}]}}}},"400":{"description":"Validation failed or duplicate club name","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"401":{"description":"Invalid/expired session","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"403":{"description":"Only admins can rename clubs","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Rename a club (Admin only)","tags":["Clubs"]}},"/api/v1/clubs/{id}/reports":{"post":{"description":"Clubs can generate their own report. Admins may also generate a report for any club.","operationId":"clubs_generateAnnualReport","parameters":[{"name":"id","required":true,"in":"path","description":"Club UUID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateAnnualReportDto"}}}},"responses":{"200":{"description":"Annual report generated","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/AnnualReportResponseDto"}}}]}}}},"400":{"description":"Validation failed (bad year, etc.)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"401":{"description":"Invalid/expired session","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"403":{"description":"A club can only generate its own report","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Generate club annual report","tags":["Clubs"]}},"/api/v1/clubs/reports":{"post":{"description":"Admins may generate a global institute-wide annual report (no clubId).","operationId":"clubs_generateGlobalAnnualReport","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateAnnualReportDto"}}}},"responses":{"200":{"description":"Global annual report generated","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/AnnualReportResponseDto"}}}]}}}}},"security":[{"bearer":[]}],"summary":"Generate global annual report","tags":["Clubs"]}},"/api/v1/clubs/{id}/reports/{year}":{"get":{"description":"Returns metadata and a signed URL for an existing generated report.","operationId":"clubs_getAnnualReport","parameters":[{"name":"id","required":true,"in":"path","description":"Club UUID","schema":{"type":"string"}},{"name":"year","required":true,"in":"path","description":"Report year as an integer (e.g. 2024)","schema":{"type":"string"}}],"responses":{"200":{"description":"Annual report metadata returned","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/AnnualReportResponseDto"}}}]}}}},"401":{"description":"Invalid/expired session","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"403":{"description":"A club can only view reports for itself","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get annual report metadata","tags":["Clubs"]}},"/api/v1/clubs/reports/{year}":{"get":{"description":"Returns metadata and a signed URL for an existing generated GLOBAL report.","operationId":"clubs_getGlobalAnnualReport","parameters":[{"name":"year","required":true,"in":"path","description":"Report year as an integer (e.g. 2024)","schema":{"type":"string"}}],"responses":{"200":{"description":"Global annual report metadata returned","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/AnnualReportResponseDto"}}}]}}}}},"security":[{"bearer":[]}],"summary":"Get global annual report metadata","tags":["Clubs"]}},"/api/v1/events/requests":{"post":{"description":"Club submits an event request with all required annexes. Each annex field must be named `annex_{templateId}`. Unknown/extra files are ignored.","operationId":"events_createRequest","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"title":{"type":"string","example":"AI Day 2025"},"description":{"type":"string","example":"Talks + workshops"},"eventType":{"type":"string","example":"Scientific"},"startTime":{"type":"string","format":"date-time","example":"2025-11-18T09:00:00Z"},"endTime":{"type":"string","format":"date-time","example":"2025-11-18T17:00:00Z"},"expectedStudents":{"type":"number","example":200},"roomId":{"type":"string","format":"uuid","nullable":true,"description":"Exactly one of roomId or externalAddress must be provided."},"externalAddress":{"type":"string","nullable":true,"description":"Exactly one of roomId or externalAddress must be provided."},"submittedBy":{"type":"string","format":"uuid","description":"Leader UUID (must be the club President or VicePresident)."},"annex_11111111-1111-1111-1111-111111111111":{"type":"string","format":"binary","description":"Annex file for template 11111111-1111-1111-1111-111111111111"}},"required":["title","eventType","startTime","endTime","submittedBy"]}}}},"responses":{"201":{"description":"Event request created","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/CreateEventRequestResponseDto"}}}]}}}},"400":{"description":"Validation failed, missing/extra annexes, or bad timing","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"401":{"description":"Invalid or missing authentication","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"403":{"description":"Only clubs can submit event requests","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"409":{"description":"Duplicate event request, room disappeared, or schedule conflict","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Create event request (club)","tags":["Events"]},"get":{"description":"Paginated list of all event requests. Can be filtered by status and clubId. Sorted by submittedAt DESC.","operationId":"events_adminListRequests","parameters":[{"name":"page","required":false,"in":"query","description":"Page number (starting at 1)","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"example":10,"type":"number"}},{"name":"status","required":false,"in":"query","description":"Filter by request status.","schema":{"example":"Pending","type":"string","enum":["Pending","Approved","Rejected"]}},{"name":"clubId","required":false,"in":"query","description":"Filter by club (id from /clubs).","schema":{"format":"uuid","example":"3ca4f08b-2ee1-4fd5-b73e-7cb6394e19de","type":"string"}}],"responses":{"200":{"description":"Event requests returned","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"allOf":[{"$ref":"#/components/schemas/PaginatedResponseDto"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/AdminEventRequestListItemResponseDto"}}}}]}}}]}}}},"401":{"description":"Invalid or missing authentication","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"List event requests (admin)","tags":["Events"]}},"/api/v1/events/requests/me":{"get":{"description":"Returns the authenticated club’s own requests (newest first).","operationId":"events_clubListOwnRequests","parameters":[{"name":"page","required":false,"in":"query","description":"Page number (starting at 1)","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"example":10,"type":"number"}}],"responses":{"200":{"description":"Club event requests returned","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"allOf":[{"$ref":"#/components/schemas/PaginatedResponseDto"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/ClubEventRequestListItemResponseDto"}}}}]}}}]}}}},"401":{"description":"Invalid or missing authentication","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"List own event requests (club)","tags":["Events"]}},"/api/v1/events/requests/{id}":{"get":{"description":"Admins get the full internal view (club contact + annexes). Clubs get their own view (no annexes).","operationId":"events_getRequest","parameters":[{"name":"id","required":true,"in":"path","description":"Event request UUID","schema":{"type":"string"}}],"responses":{"200":{"description":"Event request returned (role-shaped)","content":{"application/json":{"schema":{"oneOf":[{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/AdminEventRequestDetailResponseDto"}}}]},{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/ClubEventRequestDetailResponseDto"}}}]}]}}}},"401":{"description":"Invalid or missing authentication","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"403":{"description":"Only admins or owning clubs can view event requests","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get single event request (role-shaped)","tags":["Events"]}},"/api/v1/events/requests/{id}/approve":{"post":{"description":"Approves the request and creates the live event. Idempotent.","operationId":"events_approveRequest","parameters":[{"name":"id","required":true,"in":"path","description":"Event request UUID to approve","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApproveEventRequestDto"}}}},"responses":{"201":{"description":"Event request approved","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/EventRequestApproveResponseDto"}}}]}}}},"400":{"description":"Invalid payload","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"401":{"description":"Invalid or missing authentication","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"403":{"description":"Only admins can approve event requests","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"409":{"description":"Request is not in a state that can be approved / room conflict","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Approve event request","tags":["Events"]}},"/api/v1/events/requests/{id}/reject":{"post":{"description":"Rejects the request with a mandatory comment.","operationId":"events_rejectRequest","parameters":[{"name":"id","required":true,"in":"path","description":"Event request UUID to reject","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RejectEventRequestDto"}}}},"responses":{"200":{"description":"Event request rejected","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/EventRequestRejectResponseDto"}}}]}}}},"401":{"description":"Invalid or missing authentication","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"403":{"description":"Only admins can reject event requests","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Reject event request","tags":["Events"]}},"/api/v1/events/calendar":{"get":{"description":"Returns upcoming events in the next N days (e.g. 30). No filters.","operationId":"events_getPublicCalendar","parameters":[{"name":"page","required":false,"in":"query","description":"Page number (starting at 1)","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"example":10,"type":"number"}}],"responses":{"200":{"description":"Public calendar returned","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"allOf":[{"$ref":"#/components/schemas/PaginatedResponseDto"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/PublicEventListItemResponseDto"}}}}]}}}]}}}}},"summary":"Public calendar (upcoming events)","tags":["Events"]}},"/api/v1/events/rooms":{"get":{"description":"Used by clubs when creating event requests and by admins to manage rooms.","operationId":"events_listRooms","parameters":[],"responses":{"200":{"description":"Rooms returned","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/RoomResponseDto"}}}}]}}}}},"security":[{"bearer":[]}],"summary":"List internal rooms","tags":["Events"]},"post":{"description":"Admin-only. Creates a new bookable internal room.","operationId":"events_createRoom","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRoomDto"}}}},"responses":{"201":{"description":"Room created","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/RoomCreateResponseDto"}}}]}}}},"400":{"description":"Room name cannot be empty","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"401":{"description":"Invalid or missing authentication","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"409":{"description":"Room name already exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Create internal room","tags":["Events"]}},"/api/v1/events/rooms/{id}":{"delete":{"description":"Admin-only. Fails if room is used by pending requests or upcoming events.","operationId":"events_deleteRoom","parameters":[{"name":"id","required":true,"in":"path","description":"Room UUID","schema":{"type":"string"}}],"responses":{"204":{"description":"Room deleted"},"401":{"description":"Invalid or missing authentication","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"409":{"description":"Room is used by scheduled events or pending requests","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Delete room","tags":["Events"]}},"/api/v1/events/{id}/time":{"patch":{"description":"Changes start/end time of an approved event.","operationId":"events_reschedule","parameters":[{"name":"id","required":true,"in":"path","description":"Event UUID to reschedule","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RescheduleEventDto"}}}},"responses":{"200":{"description":"Event rescheduled","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/EventRescheduleResponseDto"}}}]}}}},"400":{"description":"endTime must be greater than startTime / invalid payload","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"401":{"description":"Invalid or missing authentication","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"409":{"description":"Room is already booked for that time range","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Reschedule event (admin)","tags":["Events"]}},"/api/v1/events/{id}/room":{"patch":{"description":"Moves an internal event to another room. Fails for external events or overlapping schedules.","operationId":"events_changeRoom","parameters":[{"name":"id","required":true,"in":"path","description":"Event UUID to move","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangeEventRoomDto"}}}},"responses":{"200":{"description":"Event room changed","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/EventRoomChangeResponseDto"}}}]}}}},"400":{"description":"Target room does not exist.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"401":{"description":"Invalid or missing authentication","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"403":{"description":"Cannot change room for an external event.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}},"409":{"description":"New room is already booked for that time.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Change event room (admin)","tags":["Events"]}},"/api/v1/events/{id}/cancel":{"patch":{"description":"Marks the event as cancelled. Still visible in public calendar.","operationId":"events_cancel","parameters":[{"name":"id","required":true,"in":"path","description":"Event UUID to cancel","schema":{"type":"string"}}],"responses":{"200":{"description":"Event cancelled","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/EventCancelResponseDto"}}}]}}}},"401":{"description":"Invalid or missing authentication","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Cancel event (admin)","tags":["Events"]}},"/api/v1/events/{id}":{"get":{"description":"Public endpoint. Returns title, club, time, location, description, and isCancelled.","operationId":"events_getPublicById","parameters":[{"name":"id","required":true,"in":"path","description":"Public event UUID","schema":{"type":"string"}}],"responses":{"200":{"description":"Public event returned","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponseDto"},{"properties":{"data":{"$ref":"#/components/schemas/PublicEventDetailResponseDto"}}}]}}}}},"summary":"Get public event details","tags":["Events"]}},"/api/v1/healthz":{"get":{"description":"Used by uptime monitors, containers, load balancers, and cloud workloads to verify the service is healthy.","operationId":"health_check","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseDto"}}}}},"summary":"Service health status check","tags":["Health"]}}},"info":{"title":"ISIMM ClubHub API","description":"Official backend API documentation for the ClubHub platform","version":"1.0","contact":{}},"tags":[],"servers":[{"url":"https://isimm-clubhub-api.onrender.com","description":"Production"}],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"ResponseErrorDetails":{"type":"object","properties":{"details":{"type":"object","description":"Field-level error details (if applicable)","example":{"email":["Email format is invalid"],"password":["Must contain at least 8 characters"]}}}},"ApiResponseDto":{"type":"object","properties":{"code":{"type":"string","example":"OK","description":"Machine-readable status code (e.g. OK, CREATED, VALIDATION_ERROR)"},"message":{"type":"string","example":"Operation successful","description":"Human readable result summary"},"data":{"type":"object","description":"Payload for successful operations","nullable":true},"error":{"description":"Error details for failed operations","nullable":true,"allOf":[{"$ref":"#/components/schemas/ResponseErrorDetails"}]},"requestId":{"type":"string","example":"req_93f1b2c7_x1a9p0","description":"Correlation ID for tracing"},"timestamp":{"type":"string","example":"2025-01-30T12:45:22.120Z","description":"Timestamp (UTC) for the response"}},"required":["code","message","requestId","timestamp"]},"LoginUserSnapshotDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier of the authenticated user.","example":"7a9b6d14-2b4c-4b1d-8d52-5f91d6e5b8d1","format":"uuid"},"email":{"type":"string","description":"Email address of the authenticated user","example":"user@isimm.tn"},"role":{"type":"string","enum":["Student","Club","Admin"],"description":"Role assigned to the authenticated user","example":"Student"},"fullName":{"type":"object","nullable":true,"description":"Full name of the user (Admin & Student only). Null for club accounts.","example":"Youssef Shili"},"clubId":{"type":"object","nullable":true,"description":"Club ID if the user is a club account, otherwise null","example":null}},"required":["id","email","role","fullName","clubId"]},"LoginResponseDto":{"type":"object","properties":{"accessToken":{"type":"string","description":"JWT access token for authenticated API requests","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"refreshToken":{"type":"string","description":"JWT refresh token used to renew the access token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"user":{"description":"Snapshot of the authenticated user","allOf":[{"$ref":"#/components/schemas/LoginUserSnapshotDto"}]}},"required":["accessToken","refreshToken","user"]},"RefreshResponseDto":{"type":"object","properties":{"accessToken":{"type":"string","description":"Newly issued access token for authenticated API calls","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"refreshToken":{"type":"string","description":"Newly issued refresh token to obtain future access tokens","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"required":["accessToken","refreshToken"]},"MeResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier of the authenticated user.","example":"3f8a9e1b-4d2a-4c6f-8baf-32e6d8e7f1a2","format":"uuid"},"email":{"type":"string","description":"Email address of the authenticated user","example":"student@isimm.tn"},"role":{"type":"string","enum":["Student","Club","Admin"],"description":"Role of the authenticated user within the platform","example":"Student"},"fullName":{"type":"object","nullable":true,"description":"Full name of the user (Admin & Student only). Null for club accounts.","example":"Youssef Shili"},"clubId":{"type":"object","nullable":true,"description":"Club ID if the user is a club account, otherwise null","example":null,"format":"uuid"}},"required":["id","email","role","fullName","clubId"]},"ForgotPasswordResponseDto":{"type":"object","properties":{"message":{"type":"string","example":"If this email exists, a reset link has been sent.","description":"Non-revealing confirmation message. Always returned, regardless of whether the email is registered."}},"required":["message"]},"ResetPasswordResponseDto":{"type":"object","properties":{"success":{"type":"boolean","example":true,"description":"Indicates whether the password reset was successful"}},"required":["success"]},"InvitePreviewSummaryDto":{"type":"object","properties":{"accountType":{"type":"string","enum":["Student","Club"],"example":"Student","description":"Type of invite being processed (Student or Club)"},"mode":{"type":"string","enum":["add","replace"],"example":"add","description":"Import mode: add new or replace existing invites"},"totalRows":{"type":"number","example":120,"description":"Total number of rows detected in the uploaded CSV file"},"willCreate":{"type":"number","example":90,"description":"Number of new invites that will be created"},"willSkip":{"type":"number","example":20,"description":"Number of existing valid entries that will be skipped"},"willDeactivate":{"type":"number","example":10,"description":"Number of accounts that will be deactivated due to replace mode"}},"required":["accountType","mode","totalRows","willCreate","willSkip","willDeactivate"]},"InvalidRowDto":{"type":"object","properties":{"row":{"type":"number","example":15,"description":"Row number in the CSV where the error occurred"},"email":{"type":"string","example":"invalid-email@domain","description":"Invalid email found in the row"},"reason":{"type":"string","example":"Invalid email format or duplicate entry","description":"Reason for rejecting the row"}},"required":["row","email","reason"]},"InvitesPreviewResponseDto":{"type":"object","properties":{"summary":{"description":"Summary of the CSV validation preview","allOf":[{"$ref":"#/components/schemas/InvitePreviewSummaryDto"}]},"invalidRows":{"description":"List of invalid rows with reasons","type":"array","items":{"$ref":"#/components/schemas/InvalidRowDto"}}},"required":["summary","invalidRows"]},"InvitesBulkResponseDto":{"type":"object","properties":{"accountType":{"type":"string","enum":["Student","Club"],"example":"Club","description":"Type of invite being processed (Student or Club)"},"mode":{"type":"string","enum":["add","replace"],"example":"replace","description":"Import mode: add new invites or replace existing ones"},"created":{"type":"number","example":85,"description":"Number of new invites successfully created"},"skipped":{"type":"number","example":10,"description":"Number of invites skipped (already valid or duplicates)"},"deactivated":{"type":"number","example":5,"description":"Number of accounts deactivated due to replace mode"}},"required":["accountType","mode","created","skipped","deactivated"]},"InvitesResendResponseDto":{"type":"object","properties":{"accepted":{"type":"number","description":"Number of invite emails successfully resent","example":42},"failed":{"type":"number","description":"Number of invite emails that failed to resend (invalid, expired, or already accepted)","example":3}},"required":["accepted","failed"]},"AcceptStudentUserDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier of the newly created student user","example":"a3f5b2d0-8b12-4f6a-9f72-9e1a50dbb8a7","format":"uuid"},"email":{"type":"string","description":"Email address associated with the new student account","example":"student@isimm.tn"},"role":{"type":"string","enum":["Student","Club","Admin"],"description":"Role assigned to the user within the platform","example":"Student"},"fullName":{"type":"object","nullable":true,"description":"Full name of the student","example":"Youssef Shili"}},"required":["id","email","role","fullName"]},"AcceptStudentResponseDto":{"type":"object","properties":{"accessToken":{"type":"string","description":"JWT access token for the new session","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"refreshToken":{"type":"string","description":"JWT refresh token used for session renewal","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"user":{"description":"Details of the created and authenticated student user","allOf":[{"$ref":"#/components/schemas/AcceptStudentUserDto"}]}},"required":["accessToken","refreshToken","user"]},"AcceptClubUserDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier of the newly created club user","example":"b91d12e3-4fa8-4d7f-9c27-1d5b71e6a0cb","format":"uuid"},"email":{"type":"string","description":"Email address associated with the club account","example":"club@isimm.tn"},"role":{"type":"string","enum":["Student","Club","Admin"],"description":"Role assigned to the user (always Club)","example":"Club"},"fullName":{"type":"object","nullable":true,"description":"Full name for this user — always null for club accounts","example":null},"clubId":{"type":"string","description":"Unique identifier of the associated club","example":"c2b8d9e1-9d7a-4f3a-ae11-09b3dffb9b44","format":"uuid"}},"required":["id","email","role","fullName","clubId"]},"AcceptClubResponseDto":{"type":"object","properties":{"accessToken":{"type":"string","description":"JWT access token for the newly created club session","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"refreshToken":{"type":"string","description":"JWT refresh token for renewing the club session","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"user":{"description":"Details of the authenticated club user after invite acceptance","allOf":[{"$ref":"#/components/schemas/AcceptClubUserDto"}]}},"required":["accessToken","refreshToken","user"]},"ChangePasswordResponseDto":{"type":"object","properties":{"ok":{"type":"boolean","example":true,"description":"Indicates whether the password was updated successfully."},"message":{"type":"string","example":"Password updated successfully.","description":"Confirmation message describing the result of the operation."}},"required":["ok","message"]},"LoginDto":{"type":"object","properties":{"email":{"type":"string","example":"student@isimm.tn"},"password":{"type":"string","example":"StrongPass123"},"rememberMe":{"type":"boolean","example":true}},"required":["email","password"]},"RefreshTokenDto":{"type":"object","properties":{"refreshToken":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI..."}},"required":["refreshToken"]},"ForgotPasswordDto":{"type":"object","properties":{"email":{"type":"string","example":"user@isimm.tn"}},"required":["email"]},"ResetPasswordDto":{"type":"object","properties":{"token":{"type":"string","example":"random-reset-token"},"newPassword":{"type":"string","example":"NewStrong123"}},"required":["token","newPassword"]},"ChangePasswordDto":{"type":"object","properties":{"currentPassword":{"type":"string","example":"OldPass123!","description":"Current password of the authenticated user (for verification)"},"newPassword":{"type":"string","example":"NewStrong123!","description":"New password that will replace the current one. Must contain at least 8 characters, including uppercase, lowercase, and a number."}},"required":["currentPassword","newPassword"]},"InvitesResendDto":{"type":"object","properties":{"emails":{"example":["student1@isimm.tn","club@isimm.tn"],"type":"array","items":{"type":"string"}}},"required":["emails"]},"AcceptStudentInviteDto":{"type":"object","properties":{"token":{"type":"string","example":"invite-token-value"},"fullName":{"type":"string","example":"Youssef Shili"},"password":{"type":"string","example":"StrongPass123"}},"required":["token","fullName","password"]},"ClubCardResponseDto":{"type":"object","properties":{"id":{"type":"string","example":"a7b2cbe0-23e1-4b8a-b8a0-59c42f3c9f7d","description":"Unique identifier of the club.","format":"uuid"},"name":{"type":"string","example":"IEEE ISIMM","description":"Official public name of the club."},"logoUrl":{"type":"string","example":"https://supabase.isimm.tn/logos/ieee.png","description":"Publicly accessible URL of the club’s logo.","format":"uri"}},"required":["id","name","logoUrl"]},"ClubsListResponseDto":{"type":"object","properties":{"clubs":{"description":"List of all active clubs visible in the directory. Each entry contains minimal public info.","example":[{"id":"a7b2cbe0-23e1-4b8a-b8a0-59c42f3c9f7d","name":"IEEE ISIMM","logoUrl":"https://supabase.isimm.tn/logos/ieee.png"},{"id":"f4c13b9a-502a-4a61-9d4a-9a11d3a87b34","name":"ARSII ISIMM","logoUrl":"https://supabase.isimm.tn/logos/arsii.png"}],"type":"array","items":{"$ref":"#/components/schemas/ClubCardResponseDto"}}},"required":["clubs"]},"ClubPublicHeaderResponseDto":{"type":"object","properties":{"id":{"type":"string","example":"a7b2cbe0-23e1-4b8a-b8a0-59c42f3c9f7d","description":"Unique identifier of the club.","format":"uuid"},"name":{"type":"string","example":"IEEE ISIMM","description":"Official public name of the club."},"description":{"type":"string","example":"A student-led community promoting innovation and technology.","description":"Short description of the club’s mission, goals, and activities."},"logoUrl":{"type":"string","example":"https://supabase.isimm.tn/logos/ieee.png","description":"Publicly accessible URL of the club’s logo."},"followerCount":{"type":"number","example":325,"description":"Total number of students currently following this club."},"postCount":{"type":"number","example":14,"description":"Number of published posts by this club."},"isFollowed":{"type":"boolean","example":true,"description":"Whether the authenticated student follows this club. Included only when the requester is a student."},"isActive":{"type":"boolean","example":true,"description":"Whether this club’s account is currently active. Included only when the requester is an admin."}},"required":["id","name","description","logoUrl","followerCount","postCount"]},"ClubLeaderDto":{"type":"object","properties":{"id":{"type":"string","description":"Leader identifier inside this club. Present in owner-facing endpoints.","example":"f8d2d0b6-2d57-4a6e-9a6e-91acc7a6c6ba","format":"uuid"},"role":{"type":"string","enum":["President","VicePresident"],"example":"President"},"fullName":{"type":"string","example":"Alice Mansouri"},"email":{"type":"string","example":"alice@isimm.tn"},"phone":{"type":"string","example":"22000000"},"cin":{"type":"string","example":"12345678"},"studyLevel":{"type":"string","enum":["CPI1","CPI2","L1","L2","L3","ING1","ING2","ING3","M1","M2"],"example":"ING2"},"specialization":{"type":"string","example":"GL"}},"required":["role","fullName","email","phone","cin","studyLevel","specialization"]},"ClubSelfProfileResponseDto":{"type":"object","properties":{"id":{"type":"string","example":"a7b2cbe0-23e1-4b8a-b8a0-59c42f3c9f7d","description":"Authenticated club id.","format":"uuid"},"name":{"type":"string","example":"IEEE ISIMM"},"description":{"type":"string","example":"Tech community and innovation"},"logoUrl":{"type":"string","example":"https://supabase.isimm.tn/logos/ieee.png"},"leaders":{"description":"Current leaders for this club. Here we DO include ids.","minItems":2,"maxItems":2,"example":[{"id":"f8d2d0b6-2d57-4a6e-9a6e-91acc7a6c6ba","role":"President","fullName":"Alice Mansouri","email":"alice@isimm.tn","phone":"22000000","cin":"12345678","studyLevel":"ING2","specialization":"GL"},{"id":"8b7b6c2d-1f5a-41ba-9b5d-0380d4ce1c0f","role":"VicePresident","fullName":"Bob Ben Ahmed","email":"bob@isimm.tn","phone":"23000000","cin":"87654321","studyLevel":"ING1","specialization":"INFO"}],"type":"array","items":{"$ref":"#/components/schemas/ClubLeaderDto"}}},"required":["id","name","description","logoUrl","leaders"]},"UpdateClubProfileResponseDto":{"type":"object","properties":{"description":{"type":"object","example":"A refreshed mission focused on innovation and AI initiatives.","description":"Current public description of the club (may be null if never set).","nullable":true},"logoUrl":{"type":"object","example":"https://supabase.isimm.tn/storage/v1/object/public/clubs/logos/123/xyz.webp","description":"Public URL of the club’s logo (null if no logo exists yet).","nullable":true}},"required":["description","logoUrl"]},"UpdateClubLeadersResponseDto":{"type":"object","properties":{"leaders":{"description":"Leaders after update. Both will have ids now.","minItems":2,"maxItems":2,"example":[{"id":"f8d2d0b6-2d57-4a6e-9a6e-91acc7a6c6ba","role":"President","fullName":"Alice Mansouri","email":"alice@isimm.tn","phone":"22000000","cin":"12345678","studyLevel":"ING2","specialization":"GL"},{"id":"8b7b6c2d-1f5a-41ba-9b5d-0380d4ce1c0f","role":"VicePresident","fullName":"Bob Ben Ahmed","email":"bob@isimm.tn","phone":"23000000","cin":"87654321","studyLevel":"ING1","specialization":"INFO"}],"type":"array","items":{"$ref":"#/components/schemas/ClubLeaderDto"}}},"required":["leaders"]},"ClubLeadersResponseDto":{"type":"object","properties":{"clubId":{"type":"string","example":"a7b2cbe0-23e1-4b8a-b8a0-59c42f3c9f7d","description":"Club whose leaders are being retrieved.","format":"uuid"},"leaders":{"description":"Exactly two leaders: President and VicePresident.","minItems":2,"maxItems":2,"example":[{"role":"President","fullName":"Alice Mansouri","email":"alice@isimm.tn","phone":"22000000","cin":"12345678","studyLevel":"ING2","specialization":"GL"},{"role":"VicePresident","fullName":"Bob Ben Ahmed","email":"bob@isimm.tn","phone":"23000000","cin":"87654321","studyLevel":"ING1","specialization":"INFO"}],"type":"array","items":{"$ref":"#/components/schemas/ClubLeaderDto"}}},"required":["clubId","leaders"]},"SubscribeClubResponseDto":{"type":"object","properties":{"clubId":{"type":"string","example":"a7b2cbe0-23e1-4b8a-b8a0-59c42f3c9f7d","description":"UUID of the club affected by the follow/unfollow action.","format":"uuid"},"isFollowed":{"type":"boolean","example":true,"description":"Whether the student is now following the club."}},"required":["clubId","isFollowed"]},"AdminRenameClubResponseDto":{"type":"object","properties":{"id":{"type":"string","example":"a7b2cbe0-23e1-4b8a-b8a0-59c42f3c9f7d","description":"Unique identifier of the club whose name was updated.","format":"uuid"},"name":{"type":"string","example":"IEEE Student Branch ISIMM","description":"New official name of the club after the rename operation."}},"required":["id","name"]},"AnnualReportResponseDto":{"type":"object","properties":{"clubId":{"type":"object","example":"a7b2cbe0-23e1-4b8a-b8a0-59c42f3c9f7d","description":"Unique identifier of the club this report belongs to. Null for institution-wide reports.","format":"uuid","nullable":true},"year":{"type":"number","example":2025,"description":"Academic year covered by this report."},"generatedAt":{"type":"string","example":"2025-12-20T18:15:00Z","description":"ISO 8601 UTC timestamp when the report was generated.","format":"date-time"},"reportUrl":{"type":"string","example":"https://supabase.isimm.tn/storage/v1/object/public/reports/club-uuid-2025.pdf?token=eyJhbGciOi...","description":"Signed URL to access the generated report PDF."}},"required":["clubId","year","generatedAt","reportUrl"]},"ClubLeaderInputDto":{"type":"object","properties":{"role":{"type":"string","example":"President","enum":["President","VicePresident"]},"fullName":{"type":"string","example":"Alice Mansouri"},"email":{"type":"string","example":"alice@isimm.tn"},"phone":{"type":"string","example":"22123456"},"cin":{"type":"string","example":"12345678"},"studyLevel":{"type":"string","example":"ING2","enum":["CPI1","CPI2","L1","L2","L3","ING1","ING2","ING3","M1","M2"]},"specialization":{"type":"string","example":"GL"}},"required":["role","fullName","email","phone","cin","studyLevel","specialization"]},"UpdateClubLeadersDto":{"type":"object","properties":{"leaders":{"description":"List of both club leaders (President and Vice-President). Must contain exactly 2 entries.","example":[{"role":"President","fullName":"Alice Mansouri","email":"alice@isimm.tn","phone":"22000000","cin":"12345678","studyLevel":"ING2","specialization":"GL"},{"role":"VicePresident","fullName":"Bob Ben Ahmed","email":"bob@isimm.tn","phone":"23000000","cin":"87654321","studyLevel":"ING1","specialization":"INFO"}],"type":"array","items":{"$ref":"#/components/schemas/ClubLeaderInputDto"}}},"required":["leaders"]},"AdminRenameClubDto":{"type":"object","properties":{"name":{"type":"string","example":"IEEE Student Branch ISIMM","description":"The new official name of the club as approved by the administration."}},"required":["name"]},"GenerateAnnualReportDto":{"type":"object","properties":{"year":{"type":"number","example":2025,"description":"Academic year for which the report should be generated. Must be between 2000 and 2100. Defaults to the current year if omitted."}}},"AdminEventRequestsQueryDto":{"type":"object","properties":{"page":{"type":"object","example":1,"description":"Page number (starting at 1)"},"limit":{"type":"object","example":10,"description":"Items per page"},"status":{"type":"string","description":"Filter by request status.","enum":["Pending","Approved","Rejected"],"example":"Pending"},"clubId":{"type":"string","description":"Filter by club (id from /clubs).","format":"uuid","example":"3ca4f08b-2ee1-4fd5-b73e-7cb6394e19de"}}},"ClubEventRequestsQueryDto":{"type":"object","properties":{"page":{"type":"object","example":1,"description":"Page number (starting at 1)"},"limit":{"type":"object","example":10,"description":"Items per page"}}},"CreateEventRequestDto":{"type":"object","properties":{"title":{"type":"string","description":"Publicly visible title of the event.","example":"AI Day 2025","maxLength":150},"description":{"type":"string","description":"Detailed description of the event.","example":"Talks + workshops about AI, MLOps, and LLMs.","maxLength":2000},"eventType":{"type":"string","description":"Type / category of this event.","enum":["Scientific","Social","Entertainment","National","Sports","Artistic","Other"],"example":"Scientific"},"startTime":{"type":"string","description":"Start date/time (ISO 8601, UTC recommended).","example":"2025-11-18T09:00:00Z","format":"date-time"},"endTime":{"type":"string","description":"End date/time (must be > startTime, checked in service).","example":"2025-11-18T17:00:00Z","format":"date-time"},"expectedStudents":{"type":"number","description":"Estimated attendance.","example":200,"minimum":1},"roomId":{"type":"string","description":"Internal room ID (on-campus). Mutually exclusive with externalAddress.","format":"uuid","example":"9e3f0dd7-2e9d-4d6c-9e3e-2b69b6dfcd02"},"externalAddress":{"type":"string","description":"External, off-campus location. Mutually exclusive with roomId.","example":"Hotel Coliseum, Monastir","maxLength":255},"submittedBy":{"type":"string","description":"Club leader (President / VicePresident) responsible for this request. Must belong to the authenticated club.","format":"uuid","example":"0bce7740-16c4-4e8a-af86-2f7abcd8189b"}},"required":["title","description","eventType","startTime","endTime","expectedStudents","submittedBy"]},"ApproveEventRequestDto":{"type":"object","properties":{"comment":{"type":"string","description":"Optional admin note / justification, stored on the request and shown to the club.","example":"Approved. See you on campus.","maxLength":500}}},"RejectEventRequestDto":{"type":"object","properties":{"comment":{"type":"string","description":"Reason why this event request was rejected. Shown to the club on detail view.","example":"Annex 3 missing signatures.","maxLength":500}},"required":["comment"]},"RescheduleEventDto":{"type":"object","properties":{"startTime":{"type":"string","description":"New event start datetime (ISO 8601).","example":"2025-11-19T09:00:00Z","format":"date-time"},"endTime":{"type":"string","description":"New event end datetime (ISO 8601). Must be > startTime (service will check).","example":"2025-11-19T17:00:00Z","format":"date-time"}},"required":["startTime","endTime"]},"ChangeEventRoomDto":{"type":"object","properties":{"roomId":{"type":"string","description":"Target internal room to move this event to.","format":"uuid","example":"a7f2f5fb-0d9c-4ab3-9a5a-8b8eb956a7ad"}},"required":["roomId"]},"CreateRoomDto":{"type":"object","properties":{"name":{"type":"string","description":"Room name as it will appear to clubs when creating an event request.","example":"Amphi A","maxLength":120}},"required":["name"]},"CreateEventRequestResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier of the newly created event request.","example":"6d1a9eb3-5f30-4d28-8f46-4496375925b2","format":"uuid"},"status":{"type":"string","description":"Initial status of the request. Always Pending on creation.","enum":["Pending","Approved","Rejected"],"example":"Pending"}},"required":["id","status"]},"AdminEventRequestListItemResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Event request identifier.","example":"c7af1656-1e1b-4fb8-af36-b1f3a3cbb731","format":"uuid"},"title":{"type":"string","description":"Title of the requested event.","example":"AI Day 2025"},"eventType":{"type":"string","description":"Type/category of the event.","enum":["Scientific","Social","Entertainment","National","Sports","Artistic","Other"],"example":"Scientific"},"clubName":{"type":"string","description":"Name of the club that submitted the request.","example":"IEEE ISIMM"},"status":{"type":"string","description":"Current workflow status of the request.","enum":["Pending","Approved","Rejected"],"example":"Pending"},"startTime":{"type":"string","description":"Event start time (from the request).","example":"2025-11-18T09:00:00Z","format":"date-time"},"endTime":{"type":"string","description":"Event end time (from the request).","example":"2025-11-18T17:00:00Z","format":"date-time"},"submittedAt":{"type":"string","description":"When this request was submitted by the club.","example":"2025-11-08T10:00:00Z","format":"date-time"},"submittedByRole":{"type":"string","description":"Role of the club leader who submitted the request. Exposed here to let admin see accountability level without PII.","enum":["President","VicePresident"],"example":"President"}},"required":["id","title","eventType","clubName","status","startTime","endTime","submittedAt","submittedByRole"]},"ClubEventRequestListItemResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Event request identifier.","example":"f9231a59-6d95-4a30-9ab6-1e2f3fcb56f3","format":"uuid"},"title":{"type":"string","description":"Title of the requested event.","example":"AI Day 2025"},"status":{"type":"string","description":"Current status of this request for the club.","enum":["Pending","Approved","Rejected"],"example":"Pending"},"startTime":{"type":"string","description":"Requested start time of the event.","example":"2025-11-18T09:00:00Z","format":"date-time"},"endTime":{"type":"string","description":"Requested end time of the event.","example":"2025-11-18T17:00:00Z","format":"date-time"},"location":{"type":"string","description":"Renderable location (room name if internal, external address if off-campus).","example":"Amphi A"}},"required":["id","title","status","startTime","endTime","location"]},"AnnexViewDto":{"type":"object","properties":{"annexTemplateId":{"type":"string","description":"Annex template ID this file is linked to.","format":"uuid","example":"5be0d3a6-4a8e-4cb1-8f2e-4f48325f7f9b"},"annexUrl":{"type":"string","description":"URL to access the uploaded annex file.","example":"https://cdn.isimm.tn/annexes/req-123-1.pdf"},"validated":{"type":"boolean","description":"Indicates if the annex has been validated by an admin.","example":false}},"required":["annexTemplateId","annexUrl","validated"]},"AdminEventRequestDetailResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Event request identifier.","example":"0dbe80e4-8d39-4d1a-a5ba-26dfb7f7815c","format":"uuid"},"clubId":{"type":"string","description":"Club that submitted this request.","example":"1d9bb75e-5e27-4b9a-9135-6a89ba9110ce","format":"uuid"},"submittedBy":{"type":"object","description":"Information about the club leader who submitted the request.","example":{"role":"President","fullName":"Alice Mansouri","email":"alice@isimm.tn","phone":"22000000","cin":"12345678","studyLevel":"ING2","specialization":"GL"}},"title":{"type":"string","description":"Title of the requested event.","example":"AI Day 2025"},"description":{"type":"string","description":"Description / context of the event.","example":"Talks + workshops"},"eventType":{"type":"string","description":"Type of the event.","enum":["Scientific","Social","Entertainment","National","Sports","Artistic","Other"],"example":"Scientific"},"startTime":{"type":"string","description":"Planned start date/time for the event.","example":"2025-11-18T09:00:00Z","format":"date-time"},"endTime":{"type":"string","description":"Planned end date/time for the event.","example":"2025-11-18T17:00:00Z","format":"date-time"},"expectedStudents":{"type":"number","description":"Expected number of attendees/students.","example":200},"roomId":{"type":"object","description":"Internal room where the event will take place. Mutually exclusive with externalAddress.","example":"5d294bf9-00ef-4a79-9b1d-6f0cb4c918d4","format":"uuid","nullable":true},"externalAddress":{"type":"object","description":"External address (for off-campus events). Mutually exclusive with roomId.","example":null,"nullable":true},"status":{"type":"string","description":"Current status of the event request.","enum":["Pending","Approved","Rejected"],"example":"Pending"},"adminComment":{"type":"object","description":"Admin comment associated with the approval/rejection of this request.","example":null,"nullable":true},"submittedAt":{"type":"string","description":"Date/time when the club submitted this request.","example":"2025-11-08T10:00:00Z","format":"date-time"},"annexes":{"description":"List of annexes attached to this event request.","type":"array","items":{"$ref":"#/components/schemas/AnnexViewDto"}}},"required":["id","clubId","submittedBy","title","description","eventType","startTime","endTime","expectedStudents","roomId","externalAddress","status","adminComment","submittedAt","annexes"]},"ClubEventRequestDetailResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Event request identifier.","example":"f82a70d1-2a9b-4bde-9c8c-1a905fc47588","format":"uuid"},"title":{"type":"string","description":"Title of the requested event.","example":"AI Day 2025"},"description":{"type":"string","description":"Description / context of the event.","example":"Talks + workshops"},"eventType":{"type":"string","description":"Type of the event.","enum":["Scientific","Social","Entertainment","National","Sports","Artistic","Other"],"example":"Scientific"},"startTime":{"type":"string","description":"Planned start date/time for the event.","example":"2025-11-18T09:00:00Z","format":"date-time"},"endTime":{"type":"string","description":"Planned end date/time for the event.","example":"2025-11-18T17:00:00Z","format":"date-time"},"roomId":{"type":"object","description":"If the event is internal, this is the chosen room.","example":"5d294bf9-00ef-4a79-9b1d-6f0cb4c918d4","format":"uuid","nullable":true},"externalAddress":{"type":"object","description":"If the event is external, this is the chosen location. Mutually exclusive with roomId.","example":null,"nullable":true},"status":{"type":"string","description":"Current status of the request from the club perspective.","enum":["Pending","Approved","Rejected"],"example":"Pending"},"adminComment":{"type":"object","description":"Admin comment if the request was approved/rejected, shown to the club.","example":null,"nullable":true},"submittedBy":{"type":"object","description":"Club role of the leader who sent the request. We only show the role to the club.","example":"President"},"submittedAt":{"type":"string","description":"Date/time when the club submitted this request.","example":"2025-11-08T10:00:00Z","format":"date-time"}},"required":["id","title","description","eventType","startTime","endTime","roomId","externalAddress","status","adminComment","submittedBy","submittedAt"]},"PublicEventDetailResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Public event identifier.","example":"d2c8ef7b-75e2-4a14-8d8f-54dc40757b3f","format":"uuid"},"title":{"type":"string","description":"Title of the event.","example":"AI Day 2025"},"description":{"type":"string","description":"Longer description / program / context.","example":"Talks + workshops"},"eventType":{"type":"string","description":"Event type/category.","enum":["Scientific","Social","Entertainment","National","Sports","Artistic","Other"],"example":"Scientific"},"clubName":{"type":"string","description":"Name of the club organizing the event.","example":"IEEE ISIMM"},"startTime":{"type":"string","description":"Start time of the event.","example":"2025-11-18T09:00:00Z","format":"date-time"},"endTime":{"type":"string","description":"End time of the event.","example":"2025-11-18T17:00:00Z","format":"date-time"},"location":{"type":"string","description":"Location to be displayed to users. Either an internal room name or an external address.","example":"Amphi A"},"isCancelled":{"type":"boolean","description":"Whether the event was cancelled.","example":false}},"required":["id","title","description","eventType","clubName","startTime","endTime","location","isCancelled"]},"EventRequestApproveResponseDto":{"type":"object","properties":{"requestId":{"type":"string","description":"Identifier of the original event request.","example":"b6b00e1e-5baf-4a9b-a460-47b40ff20020","format":"uuid"},"requestStatus":{"type":"string","description":"Final status of the request after approval.","enum":["Pending","Approved","Rejected"],"example":"Approved"},"event":{"description":"Public event created as a result of approving the request.","allOf":[{"$ref":"#/components/schemas/PublicEventDetailResponseDto"}]}},"required":["requestId","requestStatus","event"]},"EventRequestRejectResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Identifier of the rejected event request.","example":"3f7d7b8f-8a2f-4b0c-9ac0-1cbe59b8247a","format":"uuid"},"status":{"type":"string","description":"Final status of the request after rejection.","enum":["Pending","Approved","Rejected"],"example":"Rejected"},"adminComment":{"type":"string","description":"Admin comment explaining the rejection. Visible to the club.","example":"Annex 3 missing signatures."}},"required":["id","status","adminComment"]},"PublicEventListItemResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Public event identifier.","example":"a5c7de3f-68a2-4e95-8bc0-6c7e47cb2a19","format":"uuid"},"title":{"type":"string","description":"Title of the event.","example":"Web Development Workshop"},"clubName":{"type":"string","description":"Name of the organizing club.","example":"ARSII"},"startTime":{"type":"string","description":"Start time of the event.","example":"2025-10-25T14:00:00Z","format":"date-time"},"endTime":{"type":"string","description":"End time of the event.","example":"2025-10-25T16:00:00Z","format":"date-time"},"location":{"type":"string","description":"Location to be displayed to users. Either an internal room name or an external address.","example":"C-11"},"isCancelled":{"type":"boolean","description":"Whether this event was cancelled. Cancelled events are still returned.","example":false},"description":{"type":"string","description":"Short description to show under the title in calendar/list.","example":"Hands-on React + Nest.js intro"}},"required":["id","title","clubName","startTime","endTime","location","isCancelled","description"]},"EventRescheduleResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Identifier of the rescheduled event.","example":"5c6e9863-3509-4f7e-9ce5-f99e772a60d2","format":"uuid"},"startTime":{"type":"string","description":"New start time for the event.","example":"2025-11-19T09:00:00Z","format":"date-time"},"endTime":{"type":"string","description":"New end time for the event.","example":"2025-11-19T17:00:00Z","format":"date-time"}},"required":["id","startTime","endTime"]},"EventRoomChangeResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Identifier of the event whose room has been changed.","example":"b729cd69-7ac1-4c3a-9f70-880dba00e31d","format":"uuid"},"location":{"type":"string","description":"New location/room name to display to users.","example":"Amphi B"}},"required":["id","location"]},"EventCancelResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Identifier of the event that was cancelled.","example":"b9d0de59-ae79-4b52-8032-b94b3e9e4e19","format":"uuid"},"isCancelled":{"type":"boolean","description":"Whether the event is now in a cancelled state. Always true after this call.","example":true}},"required":["id","isCancelled"]},"RoomResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Identifier of the room.","example":"3f83b50d-7e1c-4ebd-b354-59af5a05a553","format":"uuid"},"name":{"type":"string","description":"Human-readable room name.","example":"Amphi A"}},"required":["id","name"]},"RoomCreateResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Identifier of the newly created room.","example":"f64c9145-54e9-4d5e-a04b-65928dcbd086","format":"uuid"},"name":{"type":"string","description":"Name of the newly created room.","example":"Amphi C"}},"required":["id","name"]},"PaginatedResponseDto":{"type":"object","properties":{"total":{"type":"number","example":42,"description":"Total number of items available"},"page":{"type":"number","example":1,"description":"Current page number"},"limit":{"type":"number","example":10,"description":"Number of items per page"},"totalPages":{"type":"number","example":5,"description":"Total number of pages"},"data":{"description":"Paginated response data","type":"array","items":{"type":"array"}}},"required":["total","page","limit","totalPages","data"]}}}}